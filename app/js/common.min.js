var width=window.innerWidth,height=window.innerHeight,app,colors=[1118481],gravity=4,figuresAmount=-1,figure=[],startBallX=300,startBallY=300,curentPosX=0,curentPosY=0,radius=60,agree=-30,model={createCanvas:function(){app=new PIXI.Application(width,height),document.body.appendChild(app.view)},drawCircle:function(a,e){rand=Math.floor(Math.random()*colors.length);var t=new PIXI.Graphics;return t.lineStyle(0),t.beginFill(colors[rand],1),t.drawCircle(a,e,radius),t.endFill(),t.interactive=!0,t.buttonMode=!0,t.live=!0,figure.push(t),app.stage.addChild(t),t.on("pointerdown",controller.clearFigure),t},gameOver:function(){var a=new PIXI.TextStyle({fill:"0xffffff",fontSize:36}),e=new PIXI.Text("Game Over",a);e.x=width/2,e.y=height/2,e.pivot.x=50,e.pivot.y=50,app.stage.addChild(e)}},firstplayer={createPlayer:function(){player=model.drawCircle(0,0),player.mousemove=function(a){player.position.x=a.data.originalEvent.x,player.position.y=a.data.originalEvent.y,ball.radiusArea(player.position.x,player.position.y)<2*radius&&alert()}}},ball={createBall:function(){balls=model.drawCircle(startBallX,startBallY)},moveBall:function(a,e){balls.position.x+=a,balls.position.y+=e,vall.checkAboard(balls.position.x,balls.position.y)},positionBall:function(a,e){curentPosX=Math.cos(Math.PI*a/180)*e,curentPosY=Math.cos(Math.PI*(90-a)/180)*e,ball.moveBall(curentPosX,curentPosY)},radiusArea:function(a,e){var t=Math.abs(a-balls.position.x-startBallX),l=Math.abs(e-balls.position.y-startBallY);return Math.sqrt(Math.pow(t,2)+Math.pow(l,2))}},vall={checkAboard:function(a,e){a+=startBallX+radius,e+=startBallY+radius,(a>width||a<2*radius)&&(agree+=180-2*agree),(e>height||e<2*radius)&&(agree-=2*agree)}},view={loadGame:function(){model.createCanvas(),firstplayer.createPlayer(),ball.createBall(),app.ticker.add(function(){ball.positionBall(agree,2)})}},controller={clearFigure:function(){this.clear(),figure[this.num].live=!1}};view.loadGame();